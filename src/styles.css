@layer tailwind-base, primeng, tailwind-utilities;

@import "primeicons/primeicons.css";

@layer tailwind-base {
    @tailwind base;
}

@layer tailwind-utilities {
    @tailwind components;
    @tailwind utilities;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* DIE LINKE THEME SYSTEM                                                       */
/* ═══════════════════════════════════════════════════════════════════════════ */

:root {
    --linke-rot: #FF0000;
    --linke-dunkelrot: #6F003C;

    /* Aliases/Additional Shades matching Tailwind config */
    --linke: var(--linke-rot);
    --linke-light: #FF5050;
    --linke-dark: var(--linke-dunkelrot);
    --linke-darker: #1A000F;

    /* Teal/Green Pair */
    --teal: #00B19C;
    --teal-dark: #004B5B;

    /* Primary always uses Die Linke Rot */
    --primary-color: #FF0000;
    --primary-hover: #E00000;
    --primary-active: #B80000;

    /* PrimeNG Design Tokens Override (Enforce Red over Green default) */
    --p-primary-color: var(--linke-rot);
    --p-primary-500: var(--linke-rot);
    --p-primary-600: var(--linke-dunkelrot);
    --p-primary-700: var(--linke-dunkelrot);
    --p-button-primary-background: var(--linke-rot);
    --p-button-primary-border-color: var(--linke-rot);
    --p-button-primary-hover-background: var(--linke-light);
    --p-button-primary-hover-border-color: var(--linke-light);
    --p-button-primary-active-background: var(--linke-dunkelrot);
    --p-button-primary-active-border-color: var(--linke-dunkelrot);
    --p-button-primary-color: #ffffff;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* DARK MODE (Default) - Deep, professional dark theme                         */
/* ═══════════════════════════════════════════════════════════════════════════ */

:root,
.dark {
    --color-primary: #FF0000;

    /* Main background - almost black for OLED-like depth */
    --color-bg: #050505;

    /* Sidebar - distinctly lighter than bg but still dark */
    --color-surface: #0F0F0F;

    /* Cards - raised surface */
    --color-surface-card: #141414;
    --color-surface-raised: #141414;

    /* Overlays/modals */
    --color-surface-overlay: #1C1C1C;

    /* Text - Pure white for main, distinct gray for muted */
    --color-text: #FFFFFF;
    --color-text-muted: #9CA3AF;
    /* Gray-400 */
    --color-text-inverted: #000000;

    /* Borders - Subtle but defining */
    --color-border: #262626;
    /* Gray-800 */
    --color-border-light: #404040;
    /* Gray-700 */

    /* Status Colors */
    --color-success: #22C55E;
    --color-warning: #F59E0B;
    --color-error: #EF4444;
    --color-info: #3B82F6;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* LIGHT MODE - High contrast, easier on the eyes                              */
/* ═══════════════════════════════════════════════════════════════════════════ */

.light {
    --color-primary: #CC0000;
    /* Darker red for better contrast on white */

    /* Main background - Light Gray/Blue tint, not pure white */
    --color-bg: #F3F4F6;
    /* Gray-100 */

    /* Sidebar - White to stand out from gray bg */
    --color-surface: #FFFFFF;

    /* Cards - White */
    --color-surface-card: #FFFFFF;
    --color-surface-raised: #FFFFFF;

    /* Overlays */
    --color-surface-overlay: #F9FAFB;

    /* Text - Very dark gray, almost black */
    --color-text: #111827;
    /* Gray-900 */
    --color-text-muted: #4B5563;
    /* Gray-600 - darker for readability */
    --color-text-inverted: #FFFFFF;

    /* Borders - Stronger contrast */
    --color-border: #D1D5DB;
    /* Gray-300 */
    --color-border-light: #E5E7EB;
    /* Gray-200 */

    /* Status Colors */
    --color-success: #15803D;
    /* Darker green */
    --color-warning: #B45309;
    /* Darker orange */
    --color-error: #B91C1C;
    /* Darker red */
    --color-info: #1D4ED8;
    /* Darker blue */

    /* PrimeNG Design Tokens Override (Light Mode) */
    --p-primary-color: #CC0000;
    --p-primary-500: #CC0000;
    --p-primary-600: #990000;
    --p-primary-700: #660000;
    --p-button-primary-background: #CC0000;
    --p-button-primary-border-color: #CC0000;
    --p-button-primary-hover-background: #B30000;
    --p-button-primary-hover-border-color: #B30000;
    --p-button-primary-active-background: #990000;
    --p-button-primary-active-border-color: #990000;
    --p-button-primary-color: #ffffff;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* BASE STYLES                                                                  */
/* ═══════════════════════════════════════════════════════════════════════════ */

body {
    background-color: var(--color-bg);
    color: var(--color-text);
    transition: background-color 0.3s ease, color 0.3s ease;
}

::selection {
    background-color: var(--linke-rot);
    color: white;
}

/* Fix PrimeNG Button Margins in Footer (we use gap instead) */
.p-dialog-footer .p-button {
    margin: 0 !important;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* PRIMENG OVERRIDES - DARK MODE                                                */
/* ═══════════════════════════════════════════════════════════════════════════ */

/* Global Transparent Backgrounds for Dark Mode Components */
.dark .p-tabs,
.dark .p-tablist,
.dark .p-tabpanels,
.dark .p-tabpanel,
.dark .p-tablist-content,
.dark .p-tablist-viewport,
.dark .p-card,
.dark .p-paginator,
:root .p-tabs,
:root .p-tablist,
:root .p-tabpanels,
:root .p-tabpanel,
:root .p-tablist-content,
:root .p-tablist-viewport,
:root .p-card,
:root .p-paginator {
    background: transparent !important;
    background-color: transparent !important;
    color: var(--color-text) !important;
}

/* Dialogs */
.dark .p-dialog .p-dialog-content,
:root .p-dialog .p-dialog-content {
    background-color: transparent !important;
}

.dark .p-dialog .p-dialog-header,
:root .p-dialog .p-dialog-header {
    background-color: transparent !important;
    border-bottom: 1px solid var(--color-border);
}

.dark .p-dialog,
:root .p-dialog {
    background-color: var(--color-surface-raised) !important;
    border: 1px solid var(--color-border);
    color: var(--color-text);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    border-radius: 0.75rem;
}

.dark .p-dialog-footer,
:root .p-dialog-footer {
    background-color: transparent !important;
    border-top: 1px solid var(--color-border);
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
    gap: 0.5rem !important;
    padding: 2rem 1.5rem 1.5rem 1.5rem !important;
}

/* Tabs Specifics */
.dark .p-tab,
:root .p-tab {
    background: transparent !important;
    color: var(--color-text-muted) !important;
    border-color: transparent !important;
}

.dark .p-tab:hover,
:root .p-tab:hover {
    color: var(--color-text) !important;
    background: var(--color-surface) !important;
}

.dark .p-tab-active,
:root .p-tab-active {
    background: transparent !important;
    color: var(--color-text) !important;
    border-bottom: 2px solid var(--color-primary) !important;
}

/* SelectButton Overrides - Force Dark Mode Styling */
.dark .p-selectbutton .p-togglebutton,
:root .p-selectbutton .p-togglebutton,
.p-selectbutton .p-togglebutton {
    background: var(--color-surface) !important;
    border: 1px solid var(--color-border) !important;
    color: var(--color-text-muted) !important;
}

.dark .p-selectbutton .p-togglebutton:hover,
:root .p-selectbutton .p-togglebutton:hover,
.p-selectbutton .p-togglebutton:hover {
    background: var(--color-surface-raised) !important;
    color: var(--color-text) !important;
}

/* Selected State - Aggressive Override */
.dark .p-selectbutton .p-togglebutton-checked,
:root .p-selectbutton .p-togglebutton-checked,
.p-selectbutton .p-togglebutton-checked,
.p-selectbutton .p-togglebutton.p-togglebutton-checked,
.p-selectbutton .p-togglebutton[aria-pressed="true"] {
    background: var(--color-surface-raised) !important;
    border-color: var(--linke-rot) !important;
    color: var(--color-text) !important;
}

.dark .p-selectbutton .p-togglebutton-checked .p-togglebutton-label,
:root .p-selectbutton .p-togglebutton-checked .p-togglebutton-label,
.p-selectbutton .p-togglebutton-checked .p-togglebutton-label,
.p-selectbutton .p-togglebutton[aria-pressed="true"] .p-togglebutton-label {
    color: var(--color-text) !important;
}

/* Inputs - Dark Mode */
.dark .p-inputtext,
.dark .p-textarea,
.dark .p-select,
.dark .p-multiselect,
.dark .p-chips-token,
:root .p-inputtext,
:root .p-textarea,
:root .p-select,
:root .p-multiselect,
:root .p-chips-token {
    background-color: var(--color-surface) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text) !important;
}

.dark .p-inputtext:focus,
.dark .p-textarea:focus,
.dark .p-select:focus,
:root .p-inputtext:focus,
:root .p-textarea:focus,
:root .p-select:focus {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.2) !important;
}

/* DatePicker - Dark Mode */
.dark .p-datepicker-dropdown,
:root .p-datepicker-dropdown {
    background-color: var(--color-surface-overlay) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text-muted) !important;
}

.dark .p-datepicker-dropdown:hover,
:root .p-datepicker-dropdown:hover {
    background-color: var(--color-surface-raised) !important;
    border-color: rgba(255, 0, 0, 0.3) !important;
    color: var(--color-text) !important;
}

.dark .p-datepicker-dropdown svg,
:root .p-datepicker-dropdown svg {
    color: var(--color-text) !important;
    fill: currentColor !important;
}

.dark .p-datepicker-dropdown:hover svg,
:root .p-datepicker-dropdown:hover svg {
    color: var(--color-text) !important;
}

/* DatePicker Panel - Dark Mode */
.dark .p-datepicker-panel,
:root .p-datepicker-panel {
    background-color: var(--color-surface-raised) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text) !important;
}

.dark .p-datepicker-header,
:root .p-datepicker-header {
    background-color: var(--color-surface) !important;
    border-color: var(--color-border) !important;
    color: var(--color-text) !important;
}

.dark .p-datepicker-calendar td span,
:root .p-datepicker-calendar td span {
    color: var(--color-text) !important;
}

.dark .p-datepicker-calendar td span:hover,
:root .p-datepicker-calendar td span:hover {
    background-color: var(--color-surface-overlay) !important;
}

.dark .p-datepicker .p-datepicker-day-cell.p-datepicker-day-selected span,
.dark .p-datepicker-calendar td span.p-highlight,
:root .p-datepicker .p-datepicker-day-cell.p-datepicker-day-selected span,
:root .p-datepicker-calendar td span.p-highlight {
    background-color: var(--linke-rot) !important;
    color: white !important;
}

.dark .p-datepicker-calendar th,
:root .p-datepicker-calendar th {
    color: var(--color-text-muted) !important;
}

.dark .p-datepicker-title button,
.dark .p-datepicker-title span,
:root .p-datepicker-title button,
:root .p-datepicker-title span {
    color: var(--color-text) !important;
}

.dark .p-datepicker-prev,
.dark .p-datepicker-next,
:root .p-datepicker-prev,
:root .p-datepicker-next {
    color: var(--color-text-muted) !important;
    background: transparent !important;
}

.dark .p-datepicker-prev:hover,
.dark .p-datepicker-next:hover,
:root .p-datepicker-prev:hover,
:root .p-datepicker-next:hover {
    color: var(--color-text) !important;
    background-color: var(--color-surface-overlay) !important;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* PRIMENG OVERRIDES - LIGHT MODE                                               */
/* ═══════════════════════════════════════════════════════════════════════════ */

.light .p-dialog .p-dialog-content {
    background-color: transparent !important;
}

.light .p-dialog .p-dialog-header {
    background-color: transparent !important;
    border-bottom: 1px solid var(--color-border);
    color: var(--color-text);
}

.light .p-dialog {
    background-color: var(--color-surface-raised) !important;
    border: 1px solid var(--color-border);
    color: var(--color-text);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    border-radius: 0.75rem;
}

.light .p-dialog-footer {
    background-color: transparent !important;
    border-top: 1px solid var(--color-border);
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
    gap: 0.5rem !important;
    padding: 2rem 1.5rem 1.5rem 1.5rem !important;
}

/* Inputs - Light Mode */
.light .p-inputtext,
.light .p-textarea,
.light .p-select,
.light .p-multiselect,
.light .p-chips-token {
    background-color: #F9FAFB !important;
    /* Gray-50 to improve contrast against white surface */
    border-color: var(--color-border) !important;
    color: var(--color-text) !important;
}

.light .p-inputtext:focus,
.light .p-textarea:focus,
.light .p-select:focus {
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.15) !important;
}

/* Tables - Light Mode */
.light .p-datatable .p-datatable-tbody>tr {
    background-color: var(--color-surface-raised);
    color: var(--color-text);
}

.light .p-datatable .p-datatable-tbody>tr:hover {
    background-color: var(--color-surface) !important;
}

.light .p-datatable .p-datatable-thead>tr>th {
    background-color: var(--color-surface);
    color: var(--color-text);
    border-color: var(--color-border);
}

/* Tables - Dark Mode Override to fix blue tint */
.dark .p-datatable .p-datatable-tbody>tr,
:root .p-datatable .p-datatable-tbody>tr {
    background-color: var(--color-surface-raised) !important;
    color: var(--color-text) !important;
}

.dark .p-datatable .p-datatable-tbody>tr:hover,
:root .p-datatable .p-datatable-tbody>tr:hover {
    background-color: var(--color-surface-overlay) !important;
}

.dark .p-datatable .p-datatable-thead>tr>th,
:root .p-datatable .p-datatable-thead>tr>th {
    background-color: var(--color-surface) !important;
    color: var(--color-text) !important;
    border-color: var(--color-border) !important;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* UTILITY CLASSES                                                              */
/* ═══════════════════════════════════════════════════════════════════════════ */

/* Danger Button Override - Strong Red */
.p-button.p-button-danger,
.p-button.p-button-danger:enabled:hover,
.p-button.p-button-danger:enabled:active,
.p-button.p-button-danger:focus {
    background-color: var(--linke-rot) !important;
    border-color: var(--linke-rot) !important;
    color: #FFFFFF !important;
}

/* Linke Red button style */
.btn-linke {
    background-color: var(--linke-rot) !important;
    color: white !important;
    border: none !important;
}

.btn-linke:hover {
    background-color: var(--primary-hover) !important;
}

/* Text with linke color */
.text-linke {
    color: var(--linke-rot);
}

/* Background with theme awareness */
.bg-theme {
    background-color: var(--color-bg);
}

.bg-theme-surface {
    background-color: var(--color-surface);
}

.bg-theme-raised {
    background-color: var(--color-surface-raised);
}

/* Border with theme awareness */
.border-theme {
    border-color: var(--color-border);
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* MOBILE-FIRST RESPONSIVE FIXES                                                */
/* ═══════════════════════════════════════════════════════════════════════════ */

html,
body {
    overflow-x: hidden;
    max-width: 100vw;
}

.p-datatable-table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
}

@media (max-width: 767px) {

    .p-datatable .p-datatable-tbody>tr>td,
    .p-datatable .p-datatable-thead>tr>th {
        padding: 0.5rem 0.5rem !important;
    }

    .p-datatable .p-datatable-tbody>tr>td {
        font-size: 0.875rem !important;
    }

    .mobile-hide-table .p-datatable-table-container {
        display: none;
    }

    h1 {
        font-size: 1.5rem !important;
    }

    main {
        padding: 0.75rem !important;
    }

    .p-card .p-card-body {
        padding: 0.75rem !important;
    }

    .p-button {
        padding: 0.5rem 0.75rem !important;
        font-size: 0.875rem !important;
    }

    .p-button.p-button-icon-only {
        width: 2rem !important;
        height: 2rem !important;
        padding: 0.4rem !important;
    }

    .p-accordion-header-link {
        padding: 0.75rem !important;
    }

    .p-accordion-content {
        padding: 0.75rem !important;
    }

    .p-dialog {
        margin: 0.5rem !important;
        max-height: calc(100vh - 1rem) !important;
    }

    .p-dialog .p-dialog-content {
        padding: 0.75rem !important;
    }

    .p-tag {
        padding: 0.125rem 0.5rem !important;
        font-size: 0.7rem !important;
    }
}

@media (min-width: 768px) and (max-width: 1023px) {

    .p-datatable .p-datatable-tbody>tr>td,
    .p-datatable .p-datatable-thead>tr>th {
        padding: 0.75rem !important;
    }
}

/* Custom scrollbar */
.p-datatable-table-container::-webkit-scrollbar {
    height: 4px;
}

.dark .p-datatable-table-container::-webkit-scrollbar-track,
:root .p-datatable-table-container::-webkit-scrollbar-track {
    background: var(--color-surface);
}

.dark .p-datatable-table-container::-webkit-scrollbar-thumb,
:root .p-datatable-table-container::-webkit-scrollbar-thumb {
    background: var(--color-border-light);
    border-radius: 2px;
}

.light .p-datatable-table-container::-webkit-scrollbar-track {
    background: var(--color-surface);
}

.light .p-datatable-table-container::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 2px;
}

.truncate-mobile {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 150px;
}

@media (min-width: 768px) {
    .truncate-mobile {
        max-width: none;
        white-space: normal;
    }
}

/* Animation Delays */
.animation-delay-100 {
    animation-delay: 100ms !important;
}

.animation-delay-200 {
    animation-delay: 200ms !important;
}

.animation-delay-300 {
    animation-delay: 300ms !important;
}

.animation-delay-500 {
    animation-delay: 500ms !important;
}

.animation-delay-1000 {
    animation-delay: 1000ms !important;
}

.animation-delay-2000 {
    animation-delay: 2000ms !important;
}

.animation-delay-4000 {
    animation-delay: 4000ms !important;
}